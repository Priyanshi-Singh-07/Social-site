{"version":3,"sources":["styles/login.module.css","styles/navbar.module.css","providers/AuthProvider.js","utils/constants.js","utils/index.js","api/index.js","hooks/index.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Settings.js","components/App.js","components/Loader.js","components/Navbar.js","components/Comment.js","index.js","styles/home.module.css","styles/settings.module.css"],"names":["module","exports","initialState","user","login","logout","loading","signup","AuthContext","createContext","AuthProvider","children","auth","useProvideAuth","Provider","value","API_ROOT","API_URLS","page","limit","LOCALSTORAGE_TOKEN_KEY","setItemInLocalStorage","key","console","error","valueToStore","JSON","stringify","localStorage","setItem","getFormBody","params","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","customFetch","url","a","body","customConfig","token","window","getItem","headers","Authorization","config","fetch","response","json","data","success","Error","message","getPosts","method","email","password","register","name","confirmPassword","confirm_password","useAuth","useContext","useState","setUser","setLoading","useEffect","userToken","jwt","userLogin","removeItem","removeItemFromLocalStorage","Home","posts","setPosts","fetchPosts","className","styles","postsList","map","post","postWrapper","postHeader","postAvatar","src","alt","postAuthor","postTime","postContent","conent","postActions","postLike","postCommentsIcon","comments","length","postCommentBox","placeholder","postCommentsList","comment","_id","Login","setEmail","setPassword","loggingIn","setLoggingIn","addToast","useToasts","log","handleSubmit","e","preventDefault","appearance","loginForm","onSubmit","loginSignupHeader","field","type","onChange","target","disabled","Signup","setName","setConfirmPassword","signingUp","setSigningUp","history","useHistory","handleFormSubmit","autoDismiss","required","autoComplete","Settings","editMode","setEditMode","savingForm","settings","imgContainer","fieldLabel","fieldValue","btnGrp","saveBtn","onClick","editBtn","Page404","App","exact","path","Loader","Navbar","nav","leftDiv","to","rightNav","userDp","navLinks","Comment","postCommentsItem","postCommentHeader","postCommentAuthor","postCommentTime","postCommentLikes","postCommentContent","content","ReactDOM","render","StrictMode","autoDismissTimeout","placement","document","getElementById"],"mappings":"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","file":"static/js/main.dfea2ea4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginSignupHeader\":\"login_loginSignupHeader__3_hyw\",\"loginForm\":\"login_loginForm__1cGU2\",\"field\":\"login_field__3Ar76\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__w9qqm\",\"logo\":\"navbar_logo__2HpMx\",\"logoIcons\":\"navbar_logoIcons__3WoyM\",\"userDp\":\"navbar_userDp__3lEPf\",\"user\":\"navbar_user__29J2n\",\"rightNav\":\"navbar_rightNav__1iXq8\",\"navLinks\":\"navbar_navLinks__3r2ae\",\"searchContainer\":\"navbar_searchContainer__3FlI5\",\"searchIcon\":\"navbar_searchIcon__2ZQwF\",\"searchResults\":\"navbar_searchResults__RfxEm\",\"searchResultsRow\":\"navbar_searchResultsRow__39bN7\"};","import { createContext } from \"react\";\r\n\r\nimport { useProvideAuth } from \"../hooks\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n  loading: true,\r\n  signup: () => {},\r\n};\r\n\r\nexport const AuthContext = createContext(initialState);\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const auth = useProvideAuth();\r\n\r\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>;\r\n};\r\n","const API_ROOT = \"http://codeial.codingninjas.com:8000/api/v2/\";\r\n\r\n// doc url - https://www.notion.so/aakashcn/Codeial-API-docs-3a4d0b5a42c54f0a94d951a42aabc13f\r\nexport const API_URLS = {\r\n  login: () => `${API_ROOT}/users/login`,\r\n  signup: () => `${API_ROOT}/users/signup`,\r\n  posts: (page, limit) => `${API_ROOT}/posts?page=${page}&limit=${limit}`,\r\n  createPost: (content) => `${API_ROOT}/posts/create`,\r\n  createFriendship: (userId) =>\r\n    `${API_ROOT}/friendship/create_friendship?user_id=${userId}`,\r\n  friends: () => `${API_ROOT}/friendship/fetch_user_friends`,\r\n  removeFriend: (userId) =>\r\n    `${API_ROOT}/friendship/remove_friendship?user_id=${userId}`,\r\n  toggleLike: (itemId, itemType) =>\r\n    `${API_ROOT}/likes/toggle?likeable_id=${itemId}&likeable_type=${itemType}`, // itemType is 'Post'/'Comment'\r\n  getLikes: (itemId, itemType) =>\r\n    `${API_ROOT}/likes?likeable_id=${itemId}&likeable_type=${itemType}`,\r\n  comment: () => `${API_ROOT}/comments`, // POST - create, GET - list of comments\r\n  deleteComment: (commentId) => `${API_ROOT}/comments?comment_id=${commentId}`,\r\n  editUser: () => `${API_ROOT}/users/edit`,\r\n  userInfo: (userId) => `${API_ROOT}/users/${userId}`,\r\n  searchUsers: (searchText) => `${API_ROOT}/users/search?text=${searchText}`,\r\n};\r\n\r\nexport const LOCALSTORAGE_TOKEN_KEY = \"__codeial_token__\";\r\n","export * from \"./constants\";\r\n\r\nexport const setItemInLocalStorage = (key, value) => {\r\n  if (!key || !value) {\r\n    return console.error(\"Can not store in LS\");\r\n  }\r\n\r\n  const valueToStore =\r\n    typeof value !== \"string\" ? JSON.stringify(value) : value;\r\n\r\n  localStorage.setItem(key, valueToStore);\r\n};\r\n\r\nexport const getItemFromLocalStorage = (key) => {\r\n  if (!key) {\r\n    return console.error(\"Can get the value from LS\");\r\n  }\r\n\r\n  return localStorage.getItem(key);\r\n};\r\n\r\nexport const removeItemFromLocalStorage = (key) => {\r\n  if (!key) {\r\n    return console.error(\"Can get the value from LS\");\r\n  }\r\n\r\n  localStorage.removeItem(key);\r\n};\r\n\r\nexport const getFormBody = (params) => {\r\n  let formBody = [];\r\n\r\n  for (let property in params) {\r\n    let encodedKey = encodeURIComponent(property); // 'user name' => 'user%20name'\r\n    let encodedValue = encodeURIComponent(params[property]); // aakash 123 => aakash%2020123\r\n\r\n    formBody.push(encodedKey + \"=\" + encodedValue);\r\n  }\r\n\r\n  return formBody.join(\"&\"); // 'username=aakash&password=123213'\r\n};\r\n","import { API_URLS, getFormBody, LOCALSTORAGE_TOKEN_KEY } from \"../utils\";\r\n\r\nconst customFetch = async (url, { body, ...customConfig }) => {\r\n  const token = window.localStorage.getItem(LOCALSTORAGE_TOKEN_KEY);\r\n\r\n  const headers = {\r\n    \"content-type\": \"application/x-www-form-urlencoded\",\r\n  };\r\n\r\n  if (token) {\r\n    headers.Authorization = `Bearer ${token}`;\r\n  }\r\n\r\n  const config = {\r\n    ...customConfig,\r\n    headers: {\r\n      ...headers,\r\n      ...customConfig.headers,\r\n    },\r\n  };\r\n\r\n  if (body) {\r\n    config.body = getFormBody(body);\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(url, config);\r\n    const data = await response.json();\r\n\r\n    if (data.success) {\r\n      return {\r\n        data: data.data,\r\n        success: true,\r\n      };\r\n    }\r\n\r\n    throw new Error(data.message);\r\n  } catch (error) {\r\n    console.error(\"error\");\r\n    return {\r\n      message: error.message,\r\n      success: false,\r\n    };\r\n  }\r\n};\r\n\r\nexport const getPosts = (page = 1, limit = 5) => {\r\n  return customFetch(API_URLS.posts(page, limit), {\r\n    method: \"GET\",\r\n  });\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return customFetch(API_URLS.login(), {\r\n    method: \"POST\",\r\n    body: { email, password },\r\n  });\r\n};\r\n\r\nexport const register = async (name, email, password, confirmPassword) => {\r\n  return customFetch(API_URLS.signup(), {\r\n    method: \"POST\",\r\n    body: { name, email, password, confirm_password: confirmPassword },\r\n  });\r\n};\r\n","import { useContext, useState, useEffect } from \"react\";\r\nimport jwt from \"jwt-decode\";\r\n\r\nimport { AuthContext } from \"../providers/AuthProvider\";\r\nimport { login as userLogin, register } from \"../api\";\r\nimport {\r\n  setItemInLocalStorage,\r\n  LOCALSTORAGE_TOKEN_KEY,\r\n  removeItemFromLocalStorage,\r\n  getItemFromLocalStorage,\r\n} from \"../utils\";\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport const useProvideAuth = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const userToken = getItemFromLocalStorage(LOCALSTORAGE_TOKEN_KEY);\r\n\r\n    if (userToken) {\r\n      const user = jwt(userToken);\r\n\r\n      setUser(user);\r\n    }\r\n\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const login = async (email, password) => {\r\n    const response = await userLogin(email, password);\r\n\r\n    if (response.success) {\r\n      setUser(response.data.user);\r\n      setItemInLocalStorage(\r\n        LOCALSTORAGE_TOKEN_KEY,\r\n        response.data.token ? response.data.token : null\r\n      );\r\n      return {\r\n        success: true,\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: response.message,\r\n      };\r\n    }\r\n  };\r\n\r\n  const signup = async (name, email, password, confirmPassword) => {\r\n    const response = await register(name, email, password, confirmPassword);\r\n\r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: response.message,\r\n      };\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    removeItemFromLocalStorage(LOCALSTORAGE_TOKEN_KEY);\r\n  };\r\n\r\n  return {\r\n    user,\r\n    login,\r\n    logout,\r\n    loading,\r\n    signup,\r\n  };\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nimport { Comment, Loader } from \"../components\";\r\nimport { getPosts } from \"../api\";\r\nimport styles from \"../styles/home.module.css\";\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const response = await getPosts();\r\n\r\n      if (response.success) {\r\n        setPosts(response.data.posts);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.postsList}>\r\n      {posts.map((post) => (\r\n        <div className={styles.postWrapper} key={`post-${post._id}`}>\r\n          <div className={styles.postHeader}>\r\n            <div className={styles.postAvatar}>\r\n              <img\r\n                src=\"https://cdn-icons-png.flaticon.com/512/428/428933.png\"\r\n                alt=\"user-pic\"\r\n              />\r\n              <div>\r\n                <span className={styles.postAuthor}>{post.user.name}</span>\r\n                <span className={styles.postTime}>a minute ago</span>\r\n              </div>\r\n            </div>\r\n            <div className={styles.postContent}>{post.conent}</div>\r\n\r\n            <div className={styles.postActions}>\r\n              <div className={styles.postLike}>\r\n                <img\r\n                  src=\"https://cdn-icons.flaticon.com/png/512/880/premium/880452.png?token=exp=1641282447~hmac=b37b55bdc9571857f5db95475ae7e2d7\"\r\n                  alt=\"likes-icon\"\r\n                />\r\n                <span>5</span>\r\n              </div>\r\n\r\n              <div className={styles.postCommentsIcon}>\r\n                <img\r\n                  src=\"https://cdn-icons.flaticon.com/png/512/2593/premium/2593491.png?token=exp=1641282274~hmac=cb47d954e1d2bccd0e1b5e9df59c5558\"\r\n                  alt=\"comments-icon\"\r\n                />\r\n                <span>{post.comments.length}</span>\r\n              </div>\r\n            </div>\r\n            <div className={styles.postCommentBox}>\r\n              <input placeholder=\"Start typing a comment\" />\r\n            </div>\r\n\r\n            <div className={styles.postCommentsList}>\r\n              {post.comments.map((comment) => (\r\n                <Comment comment={comment} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { useState } from \"react\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\nimport styles from \"../styles/login.module.css\";\r\nimport { useAuth } from \"../hooks\";\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loggingIn, setLoggingIn] = useState(false);\r\n  const { addToast } = useToasts();\r\n  const auth = useAuth();\r\n  console.log(auth);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoggingIn(true);\r\n\r\n    if (!email || !password) {\r\n      return addToast(\"Please enter both email and password\", {\r\n        appearance: \"error\",\r\n      });\r\n    }\r\n\r\n    const response = await auth.login(email, password);\r\n\r\n    if (response.success) {\r\n      addToast(\"Successfully logged in\", {\r\n        appearance: \"success\",\r\n      });\r\n    } else {\r\n      addToast(response.message, {\r\n        appearance: \"error\",\r\n      });\r\n    }\r\n\r\n    setLoggingIn(false);\r\n  };\r\n\r\n  return (\r\n    <form className={styles.loginForm} onSubmit={handleSubmit}>\r\n      <span className={styles.loginSignupHeader}>Log In</span>\r\n\r\n      <div className={styles.field}>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.field}>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Paasword\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.field}>\r\n        <button disabled={loggingIn}>\r\n          {loggingIn ? \"Logging in...\" : \"Log In\"}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useToasts } from 'react-toast-notifications';\n\nimport { useAuth } from '../hooks';\nimport styles from '../styles/login.module.css';\n\nconst Signup = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [signingUp, setSigningUp] = useState('');\n  const { addToast } = useToasts();\n  const auth = useAuth();\n  const history = useHistory();\n\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n    setSigningUp(true);\n\n    let error = false;\n    if (!name || !email || !password || !confirmPassword) {\n      addToast('Please fill all the fields', {\n        appearance: 'error',\n        autoDismiss: true,\n      });\n      error = true;\n    }\n\n    if (password !== confirmPassword) {\n      addToast('Make sure password and confirm password matches', {\n        appearance: 'error',\n        autoDismiss: true,\n      });\n\n      error = true;\n    }\n\n    if (error) {\n      return setSigningUp(false);\n    }\n\n    const response = await auth.signup(name, email, password, confirmPassword);\n\n    if (response.success) {\n      history.push('/login');\n      setSigningUp(false);\n\n      return addToast('User registered successfully, please login now', {\n        appearance: 'success',\n        autoDismiss: true,\n      });\n    } else {\n      addToast(response.message, {\n        appearance: 'error',\n        autoDismiss: true,\n      });\n    }\n\n    setSigningUp(false);\n  };\n\n  return (\n    <form className={styles.loginForm} onSubmit={handleFormSubmit}>\n      <span className={styles.loginSignupHeader}> Signup</span>\n      <div className={styles.field}>\n        <input\n          placeholder=\"Name\"\n          type=\"text\"\n          required\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          autoComplete=\"new-password\"\n        />\n      </div>\n      <div className={styles.field}>\n        <input\n          placeholder=\"Email\"\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          autoComplete=\"new-password\"\n        />\n      </div>\n      <div className={styles.field}>\n        <input\n          placeholder=\"Confirm password\"\n          type=\"password\"\n          required\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n      <div className={styles.field}>\n        <input\n          placeholder=\"Password\"\n          type=\"password\"\n          required\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.target.value)}\n        />\n      </div>\n      <div className={styles.field}>\n        <button disabled={signingUp}>\n          {signingUp ? 'Signing up...' : 'Signup'}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Signup;\n","import { useState } from \"react\";\n\nimport styles from \"../styles/settings.module.css\";\nimport { useAuth } from \"../hooks\";\n\nconst Settings = () => {\n  const auth = useAuth();\n  const [editMode, setEditMode] = useState(false);\n  const [name, setName] = useState(auth.user?.name ? auth.user.name : \"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [savingForm, setSavingForm] = useState(false);\n\n  const updateProfile = () => {};\n\n  return (\n    <div className={styles.settings}>\n      <div className={styles.imgContainer}>\n        <img\n          src=\"https://cdn-icons-png.flaticon.com/512/428/428933.png\"\n          alt=\"\"\n        />\n      </div>\n\n      <div className={styles.field}>\n        <div className={styles.fieldLabel}>Email</div>\n        <div className={styles.fieldValue}>{auth.user?.email}</div>\n      </div>\n\n      <div className={styles.field}>\n        <div className={styles.fieldLabel}>Name</div>\n        {editMode ? (\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n        ) : (\n          <div className={styles.fieldValue}>{auth.user?.email}</div>\n        )}\n      </div>\n\n      {editMode && (\n        <>\n          <div className={styles.field}>\n            <div className={styles.fieldLabel}>Password</div>\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <div className={styles.fieldLabel}>Confirm Password</div>\n            <input\n              type=\"password\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n            />\n          </div>\n        </>\n      )}\n\n      <div className={styles.btnGrp}>\n        {editMode ? (\n          <>\n            <button\n              className={`button ${styles.saveBtn}`}\n              onClick={updateProfile}\n            >\n              {savingForm ? \"Saving profile...\" : \"Save profile\"}\n            </button>\n            <button\n              className={`button ${styles.editBtn}`}\n              onClick={() => setEditMode(false)}\n            >\n              Go back\n            </button>\n          </>\n        ) : (\n          <button\n            className={`button ${styles.editBtn}`}\n            onClick={() => setEditMode(true)}\n          >\n            Edit Profile\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { useAuth } from \"../hooks\";\r\nimport { Home, Login, Signup, Settings } from \"../pages\";\r\nimport { Loader, Navbar } from \"./\";\r\n\r\nconst Page404 = () => {\r\n  return <h1>404</h1>;\r\n};\r\n\r\nfunction App() {\r\n  const auth = useAuth();\r\n\r\n  if (auth.loading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n\r\n          <Route exact path=\"/login\">\r\n            <Login />\r\n          </Route>\r\n\r\n          <Route exact path=\"/register\">\r\n            <Signup />\r\n          </Route>\r\n\r\n          <Route exact path=\"/settings\">\r\n            <Settings />\r\n          </Route>\r\n\r\n          <Route>\r\n            <Page404 />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const Loader = () => {\r\n  return <div className=\"app-spinner\"></div>;\r\n};\r\n\r\nexport default Loader;\r\n","import { Link } from \"react-router-dom\";\n\nimport styles from \"../styles/navbar.module.css\";\nimport { useAuth } from \"../hooks\";\n\nconst Navbar = () => {\n  const auth = useAuth();\n\n  return (\n    <div className={styles.nav}>\n      <div className={styles.leftDiv}>\n        <Link to=\"/\">\n          <img\n            alt=\"\"\n            src=\"https://ninjasfiles.s3.amazonaws.com/0000000000003454.png\"\n          />\n        </Link>\n      </div>\n\n      <div className={styles.rightNav}>\n        {auth.user && (\n          <div className={styles.user}>\n            <Link to=\"/settings\">\n              <img\n                src=\"https://cdn-icons-png.flaticon.com/512/428/428933.png\"\n                alt=\"\"\n                className={styles.userDp}\n              />\n            </Link>\n            <span>{auth.user.name}</span>\n          </div>\n        )}\n\n        <div className={styles.navLinks}>\n          <ul>\n            {auth.user ? (\n              <>\n                <li onClick={auth.logout}>Log out</li>\n              </>\n            ) : (\n              <>\n                <li>\n                  <Link to=\"/login\">Log in</Link>\n                </li>\n                <li>\n                  <Link to=\"/register\">Register</Link>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Navbar;\n","import PropTypes from 'prop-types';\n\nimport styles from '../styles/home.module.css';\n\nconst Comment = ({ comment }) => {\n  return (\n    <div className={styles.postCommentsItem}>\n      <div className={styles.postCommentHeader}>\n        <span className={styles.postCommentAuthor}>{comment.user.name}</span>\n        <span className={styles.postCommentTime}>a minute ago</span>\n        <span className={styles.postCommentLikes}>22</span>\n      </div>\n\n      <div className={styles.postCommentContent}>{comment.content}</div>\n    </div>\n  );\n};\n\nComment.propTypes = {\n  comment: PropTypes.object.isRequired,\n};\n\nexport default Comment;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ToastProvider } from \"react-toast-notifications\";\r\n\r\nimport \"./styles/index.css\";\r\nimport { App } from \"./components\";\r\nimport { AuthProvider } from \"./providers/AuthProvider\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ToastProvider autoDismiss autoDismissTimeout={5000} placement=\"top-left\">\r\n      <AuthProvider>\r\n        <App />\r\n      </AuthProvider>\r\n    </ToastProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postWrapper\":\"home_postWrapper__2W83w\",\"postHeader\":\"home_postHeader__3I5W3\",\"postAvatar\":\"home_postAvatar__26dNY\",\"postAuthor\":\"home_postAuthor___rGP3\",\"postTime\":\"home_postTime__2xL8s\",\"postContent\":\"home_postContent__lbgnU\",\"postActions\":\"home_postActions__2VE0Y\",\"postLike\":\"home_postLike__1_VbU\",\"postCommentsIcon\":\"home_postCommentsIcon__UgJfp\",\"postCommentBox\":\"home_postCommentBox__1rB8B\",\"postCommentsList\":\"home_postCommentsList__5djCC\",\"postCommentItem\":\"home_postCommentItem__2uyLS\",\"postCommentHeader\":\"home_postCommentHeader__1umgJ\",\"postCommentAuthor\":\"home_postCommentAuthor__1X_f7\",\"postCommentTime\":\"home_postCommentTime__3u37r\",\"postCommentLikes\":\"home_postCommentLikes__ACm2x\",\"postCommentContent\":\"home_postCommentContent__PoSVN\",\"commentLike\":\"home_commentLike__-L7mZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"settings_settings__lZnH-\",\"imgContainer\":\"settings_imgContainer__1ZisI\",\"btnGrp\":\"settings_btnGrp__3OrnP\",\"editBtn\":\"settings_editBtn__qbUC-\",\"saveBtn\":\"settings_saveBtn__12JQM\",\"goBack\":\"settings_goBack__1bGfO\",\"field\":\"settings_field__2rr7v\",\"fieldLabel\":\"settings_fieldLabel__3cmQB\"};"],"sourceRoot":""}